(window.webpackJsonp=window.webpackJsonp||[]).push([["c7fa"],{"00yu":function(t,e,n){"use strict";n.r(e),n.d(e,"setSession",function(){return l}),n.d(e,"getSession",function(){return d});var r=n("dfwq"),o=n("ln6h"),a=n.n(o),u=n("9Jkg"),c=n.n(u),i=n("O40h"),s=n("wTOm"),f=n("o6H3"),p=n("i9vu");function l(t){return h.apply(this,arguments)}function h(){return(h=Object(i.default)(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.setItem("SESSION",c()(e));case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return");case 8:case"end":return t.stop()}},t,null,[[0,5]])}))).apply(this,arguments)}function d(){return y.apply(this,arguments)}function y(){return(y=Object(i.default)(a.a.mark(function t(){var e,n,o,u=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=!(u.length>0&&void 0!==u[0])||u[0],t.prev=1,t.next=4,s.a.getItem("SESSION");case 4:if(null===(n=t.sent)){t.next=13;break}if(o=JSON.parse(n),!1!==e){t.next=12;break}return t.next=10,Object(f.default)("user",Object(r.default)(p.default.user.columns),{where:{username:o.user.username}});case 10:o.user=t.sent,l(o);case 12:return t.abrupt("return",o);case 13:return t.abrupt("return",null);case 16:return t.prev=16,t.t0=t.catch(1),t.abrupt("return",null);case 19:case"end":return t.stop()}},t,null,[[1,16]])}))).apply(this,arguments)}},"0tVQ":function(t,e,n){n("FlQf"),n("VJsP"),t.exports=n("WEpk").Array.from},"4ao3":function(t,e,n){"use strict";n.r(e),n.d(e,"checkSession",function(){return p});var r=n("ln6h"),o=n.n(r),a=n("9Jkg"),u=n.n(a),c=n("O40h"),i=n("i9vu"),s=n("00yu"),f=n("yDJ3"),p=function(){var t=Object(c.default)(o.a.mark(function t(){var e,n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.getSession)();case 2:if(e=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return t.prev=5,t.next=8,fetch(i.default.url,{method:"POST",body:u()({query:'{\n          session(where:{id:{_eq:"'.concat(e.id,'"}}) {\n            id\n            ').concat(i.default.table," {\n              ").concat(i.default.user.columns.join("\n"),"\n            }\n          }\n        }")}),headers:{"Content-Type":"application/json","X-Hasura-Session-Id":e.id}});case 8:return n=t.sent,t.next=11,n.json();case 11:return r=t.sent,t.abrupt("return",f(r,"data.session[0]"));case 15:return t.prev=15,t.t0=t.catch(5),t.abrupt("return",e);case 18:case"end":return t.stop()}},t,null,[[5,15]])}));return function(){return t.apply(this,arguments)}}()},IP1Z:function(t,e,n){"use strict";var r=n("2faE"),o=n("rr1i");t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},VJsP:function(t,e,n){"use strict";var r=n("2GTP"),o=n("Y7ZC"),a=n("JB68"),u=n("sNwI"),c=n("NwJ3"),i=n("tEej"),s=n("IP1Z"),f=n("fNZA");o(o.S+o.F*!n("TuGD")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,p,l=a(t),h="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y,_=0,b=f(l);if(v&&(y=r(y,d>2?arguments[2]:void 0,2)),null==b||h==Array&&c(b))for(n=new h(e=i(l.length));e>_;_++)s(n,_,v?y(l[_],_):l[_]);else for(p=b.call(l),n=new h;!(o=p.next()).done;_++)s(n,_,v?u(p,y,[o.value,_],!0):o.value);return n.length=_,n}})},VKFn:function(t,e,n){n("bBy9"),n("FlQf"),t.exports=n("ldVq")},WNqf:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/libs/queries/user/checkSession",function(){var t=n("4ao3");return{page:t.default||t}}])},d04V:function(t,e,n){t.exports=n("0tVQ")},dfwq:function(t,e,n){"use strict";n.r(e);var r=n("p0XB"),o=n.n(r);var a=n("d04V"),u=n.n(a),c=n("yLu3"),i=n.n(c);function s(t){return function(t){if(o()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(i()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return u()(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"default",function(){return s})},ldVq:function(t,e,n){var r=n("QMMT"),o=n("UWiX")("iterator"),a=n("SBuE");t.exports=n("WEpk").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||a.hasOwnProperty(r(e))}},o6H3:function(t,e,n){"use strict";n.r(e);var r=n("ln6h"),o=n.n(r),a=n("9Jkg"),u=n.n(a),c=n("pLtp"),i=n.n(c),s=n("zrwo"),f=n("O40h"),p=n("i9vu"),l=n("wTOm");e.default=function(){var t=Object(f.default)(o.a.mark(function t(e,n,r){var a,c,f,h,d,y,v,_,b;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(s.a)({},{useSession:!0,debug:!1,where:{},args:"limit:1"},r),(c=i()(a.where).map(function(t){return"".concat(t,": {_eq: ").concat(u()(a.where[t]),"}")})).length>0&&(c[0]=",where:{"+c[0],c[c.length-1]=c[c.length-1]+"}"),(f="".concat(a.args||""," ").concat(c.join(",")).trim()).length>0&&(f="(".concat(f,")")),h="\n    {\n        ".concat(e).concat(f," \n        ").concat("string"==typeof n?n:"{"+n.join("\n")+"}","\n        \n    }"),a.debug&&console.log(h),d={"Content-Type":"application/json"},!a.useSession){t.next=18;break}return t.next=11,l.a.getItem("SESSION");case 11:if(y=t.sent,v=JSON.parse(y||"false")){t.next=17;break}return t.abrupt("return",!1);case 17:d["X-Hasura-Session-Id"]=v.id;case 18:return t.next=20,fetch(p.default.url,{method:"POST",body:u()({query:h}),headers:d});case 20:return _=t.sent,t.next=23,_.json();case 23:if(b=t.sent,200===_.status){t.next=28;break}if(!(b&&b.errors&&b.errors[0]&&b.errors[0].message)){t.next=27;break}throw"\n  (Query Record Failed) ".concat(b.errors[0].message," \n  \n  GraphQL Query: ").concat(h,"\n  \n  ");case 27:return t.abrupt("return",null);case 28:if("string"==typeof n){t.next=32;break}return t.abrupt("return",b.data[e][0]);case 32:return t.abrupt("return",b.data[e]);case 33:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},yDJ3:function(t,e,n){(function(e){var n="Expected a function",r="__lodash_hash_undefined__",o=1/0,a="[object Function]",u="[object GeneratorFunction]",c="[object Symbol]",i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,f=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,d="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,v=d||y||Function("return this")();var _,b=Array.prototype,g=Function.prototype,w=Object.prototype,j=v["__core-js_shared__"],m=(_=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",O=g.toString,x=w.hasOwnProperty,S=w.toString,k=RegExp("^"+O.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=v.Symbol,I=b.splice,T=X(v,"Map"),J=X(Object,"create"),P=E?E.prototype:void 0,N=P?P.toString:void 0;function q(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function A(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function F(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function V(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function $(t,e){for(var n,r=0,o=(e=function(t,e){if(G(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||Z(t))return!0;return s.test(t)||!i.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:G(n=e)?n:L(n)).length;null!=t&&r<o;)t=t[W(e[r++])];return r&&r==o?t:void 0}function Q(t){return!(!H(t)||(e=t,m&&m in e))&&(function(t){var e=H(t)?S.call(t):"";return e==a||e==u}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}(t)?k:h).test(function(t){if(null!=t){try{return O.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t));var e}function C(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function X(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Q(n)?n:void 0}q.prototype.clear=function(){this.__data__=J?J(null):{}},q.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},q.prototype.get=function(t){var e=this.__data__;if(J){var n=e[t];return n===r?void 0:n}return x.call(e,t)?e[t]:void 0},q.prototype.has=function(t){var e=this.__data__;return J?void 0!==e[t]:x.call(e,t)},q.prototype.set=function(t,e){return this.__data__[t]=J&&void 0===e?r:e,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(t){var e=this.__data__,n=V(e,t);return!(n<0||(n==e.length-1?e.pop():I.call(e,n,1),0))},A.prototype.get=function(t){var e=this.__data__,n=V(e,t);return n<0?void 0:e[n][1]},A.prototype.has=function(t){return V(this.__data__,t)>-1},A.prototype.set=function(t,e){var n=this.__data__,r=V(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},F.prototype.clear=function(){this.__data__={hash:new q,map:new(T||A),string:new q}},F.prototype.delete=function(t){return C(this,t).delete(t)},F.prototype.get=function(t){return C(this,t).get(t)},F.prototype.has=function(t){return C(this,t).has(t)},F.prototype.set=function(t,e){return C(this,t).set(t,e),this};var L=B(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Z(t))return N?N.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var n=[];return f.test(t)&&n.push(""),t.replace(p,function(t,e,r,o){n.push(r?o.replace(l,"$1"):e||t)}),n});function W(t){if("string"==typeof t||Z(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function B(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var u=t.apply(this,n);return r.cache=a.set(o,u),u};return r.cache=new(B.Cache||F),r}B.Cache=F;var G=Array.isArray;function H(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Z(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&S.call(t)==c}t.exports=function(t,e,n){var r=null==t?void 0:$(t,e);return void 0===r?n:r}}).call(this,n("yLpj"))},yLu3:function(t,e,n){t.exports=n("VKFn")}},[["WNqf","5d41","9da1"]]]);