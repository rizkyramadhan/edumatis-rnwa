{"version":3,"file":"static/webpack/static/development/pages/index.js.cb7ab14a0fd421a003bc.hot-update.js","sources":["webpack:///./pages/app/screens/siswa/SideBar.tsx"],"sourcesContent":["import config from \"@app/config\";\nimport { createNavigateTo } from \"@app/libs/nav/NavContainer\";\nimport UIImage from \"@app/libs/ui/UIImage\";\nimport { RootStore } from \"@app/stores/RootStore\";\nimport { observer, useObservable } from \"mobx-react-lite\";\nimport React, { useEffect } from \"react\";\nimport { StyleSheet, Text, TouchableOpacity, View } from \"react-native\";\nimport { getSession } from \"@app/libs/queries/user/getsetSession\";\nimport rawQuery from \"@app/libs/queries/crud/rawQuery\";\n\nconst Button = observer((props: any) => {\n  return (\n    <TouchableOpacity\n      onPress={props.onPress}\n      style={{\n        ...props.style,\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        alignContent: \"center\"\n      }}\n    >\n      <UIImage\n        style={{\n          width: 20,\n          margin: 10,\n          height: 20\n        }}\n        source={props.image}\n      />\n      <Text style={{ color: config.color.mainText }}>{props.text}</Text>\n    </TouchableOpacity>\n  );\n});\n\nexport default observer(({ navigation }: any) => {\n  const navigateTo = createNavigateTo(navigation);\n  const data = useObservable({\n    session: {\n      murid: {}\n    },\n    kelas: {}\n  });\n\n  useEffect(() => {\n    const load = async function() {\n      data.session = await getSession();\n      data.kelas = await rawQuery(`{\n        kelas_murid(where: {murid_id: {_eq: ${data.session.murid.id}}}) {\n          kelas {\n            nama_kelas\n          }\n        }\n      }\n      `)\n    };\n    load();\n  }, []);\n\n  return (\n    <View style={s.container}>\n      <View\n        style={{\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        }}\n      >\n        <UIImage\n          source={require(\"@app/imgs/logo.png\")}\n          mobileStyle={{\n            height: 160\n          }}\n          style={{\n            width: \"70%\",\n            paddingTop: 20,\n            paddingBottom: 25\n          }}\n        />\n      </View>\n      <Text style={{ padding: 10, color: \"white\" }}>\n        NSA: {data.session.murid.nsa}\n      </Text>\n      <Text style={{ padding: 10, color: \"white\" }}>\n        Nama: {data.session.murid.nama_murid}\n      </Text>\n      <View style={{ flex: 1 }}>\n        <Button\n          text=\"Kewajiban\"\n          onPress={() => {\n            navigateTo(\"Kewajiban\");\n          }}\n          image={require(\"@app/imgs/kewajiban.png\")}\n        />\n        <Button\n          text=\"Pengumuman\"\n          onPress={() => {\n            navigateTo(\"Pengumuman\");\n          }}\n          image={require(\"@app/imgs/pengumuman.png\")}\n        />\n\n        <Button\n          text=\"Logout\"\n          style={{ marginTop: 20 }}\n          image={require(\"@app/imgs/logout.png\")}\n          onPress={() => {\n            (RootStore.session as any).logout();\n            navigation.popToTop();\n            navigation.replace(\"Login\");\n          }}\n        />\n      </View>\n    </View>\n  );\n});\n\nconst s = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexWrap: \"wrap\",\n    backgroundColor: config.color.main\n  }\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAJA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AAHA;AAKA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AAJA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAUA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAEA;AACA;AACA;AACA;AACA;AAHA;AADA;;;;A","sourceRoot":""}