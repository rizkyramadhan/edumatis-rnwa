{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"c28d\"],{\"00yu\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"setSession\",function(){return l}),n.d(e,\"getSession\",function(){return h});var r=n(\"dfwq\"),a=n(\"ln6h\"),o=n.n(a),u=n(\"9Jkg\"),c=n.n(u),i=n(\"O40h\"),s=n(\"wTOm\"),f=n(\"o6H3\"),p=n(\"i9vu\");function l(t){return d.apply(this,arguments)}function d(){return(d=Object(i.default)(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.setItem(\"SESSION\",c()(e));case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt(\"return\");case 8:case\"end\":return t.stop()}},t,null,[[0,5]])}))).apply(this,arguments)}function h(){return y.apply(this,arguments)}function y(){return(y=Object(i.default)(o.a.mark(function t(){var e,n,a,u=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=!(u.length>0&&void 0!==u[0])||u[0],t.prev=1,t.next=4,s.a.getItem(\"SESSION\");case 4:if(null===(n=t.sent)){t.next=13;break}if(a=JSON.parse(n),!1!==e){t.next=12;break}return t.next=10,Object(f.default)(\"user\",Object(r.default)(p.default.user.columns),{where:{username:a.user.username}});case 10:a.user=t.sent,l(a);case 12:return t.abrupt(\"return\",a);case 13:return t.abrupt(\"return\",null);case 16:return t.prev=16,t.t0=t.catch(1),t.abrupt(\"return\",null);case 19:case\"end\":return t.stop()}},t,null,[[1,16]])}))).apply(this,arguments)}},\"0tVQ\":function(t,e,n){n(\"FlQf\"),n(\"VJsP\"),t.exports=n(\"WEpk\").Array.from},\"3PkP\":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/app/libs/queries/crud/updateRecord\",function(){var t=n(\"Wknr\");return{page:t.default||t}}])},\"4ao3\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"checkSession\",function(){return p});var r=n(\"ln6h\"),a=n.n(r),o=n(\"9Jkg\"),u=n.n(o),c=n(\"O40h\"),i=n(\"i9vu\"),s=n(\"00yu\"),f=n(\"yDJ3\"),p=function(){var t=Object(c.default)(a.a.mark(function t(){var e,n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.getSession)();case 2:if(e=t.sent){t.next=5;break}return t.abrupt(\"return\",null);case 5:return t.prev=5,t.next=8,fetch(i.default.url,{method:\"POST\",body:u()({query:'{\\n          session(where:{id:{_eq:\"'.concat(e.id,'\"}}) {\\n            id\\n            ').concat(i.default.table,\" {\\n              \").concat(i.default.user.columns.join(\"\\n\"),\"\\n            }\\n          }\\n        }\")}),headers:{\"Content-Type\":\"application/json\",\"X-Hasura-Session-Id\":e.id}});case 8:return n=t.sent,t.next=11,n.json();case 11:return r=t.sent,t.abrupt(\"return\",f(r,\"data.session[0]\"));case 15:return t.prev=15,t.t0=t.catch(5),t.abrupt(\"return\",e);case 18:case\"end\":return t.stop()}},t,null,[[5,15]])}));return function(){return t.apply(this,arguments)}}()},IP1Z:function(t,e,n){\"use strict\";var r=n(\"2faE\"),a=n(\"rr1i\");t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}},VJsP:function(t,e,n){\"use strict\";var r=n(\"2GTP\"),a=n(\"Y7ZC\"),o=n(\"JB68\"),u=n(\"sNwI\"),c=n(\"NwJ3\"),i=n(\"tEej\"),s=n(\"IP1Z\"),f=n(\"fNZA\");a(a.S+a.F*!n(\"TuGD\")(function(t){Array.from(t)}),\"Array\",{from:function(t){var e,n,a,p,l=o(t),d=\"function\"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,v=void 0!==y,b=0,_=f(l);if(v&&(y=r(y,h>2?arguments[2]:void 0,2)),null==_||d==Array&&c(_))for(n=new d(e=i(l.length));e>b;b++)s(n,b,v?y(l[b],b):l[b]);else for(p=_.call(l),n=new d;!(a=p.next()).done;b++)s(n,b,v?u(p,y,[a.value,b],!0):a.value);return n.length=b,n}})},VKFn:function(t,e,n){n(\"bBy9\"),n(\"FlQf\"),t.exports=n(\"ldVq\")},Wknr:function(t,e,n){\"use strict\";n.r(e);var r=n(\"ln6h\"),a=n.n(r),o=n(\"9Jkg\"),u=n.n(o),c=n(\"zrwo\"),i=n(\"O40h\"),s=n(\"i9vu\"),f=n(\"4ao3\");e.default=function(){var t=Object(i.default)(a.a.mark(function t(e,n,r){var o,i,p,l,d,h,y,v;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=Object(c.a)({},{useSession:!0,debug:!1,primaryKey:\"id\"},r),i={},t.t0=a.a.keys(n);case 3:if((t.t1=t.t0()).done){t.next=10;break}if((p=t.t1.value)!==o.primaryKey&&!p.endsWith(\"_aggregate\")){t.next=7;break}return t.abrupt(\"continue\",3);case 7:i[p]=n[p],t.next=3;break;case 10:if(l=\"mutation update($data:\".concat(e,\"_set_input!) {\\n    update_\").concat(e,\"(\\n      where: {\").concat(o.primaryKey,': {_eq: \"').concat(n[o.primaryKey],'\"}},\\n      _set: $data\\n    ) {\\n      returning {\\n        ').concat(o.primaryKey,\"\\n      }\\n    }\\n  }\"),o&&o.debug&&console.log(l,n),d={\"Content-Type\":\"application/json\"},!o.useSession){t.next=20;break}return t.next=16,Object(f.checkSession)();case 16:if(h=t.sent,d[\"X-Hasura-Session-Id\"]=h.id,h){t.next=20;break}return t.abrupt(\"return\",!1);case 20:return t.next=22,fetch(s.default.url,{method:\"POST\",body:u()({operationName:\"update\",query:l,variables:{data:i}}),headers:d});case 22:return y=t.sent,t.next=25,y.json();case 25:if(v=t.sent,200===y.status){t.next=30;break}if(!(v&&v.errors&&v.errors[0]&&v.errors[0].message)){t.next=29;break}throw\"\\n(Update Record Failed) \".concat(v.errors[0].message,\" \\n\\nGraphQL Mutation:\\n\").concat(l,\"\\n\\nData: \\n\").concat(u()(n,null,2).replace(/\"/gi,\"'\"),\"\\n        \").trim();case 29:return t.abrupt(\"return\",null);case 30:return t.abrupt(\"return\",v);case 31:case\"end\":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},d04V:function(t,e,n){t.exports=n(\"0tVQ\")},dfwq:function(t,e,n){\"use strict\";n.r(e);var r=n(\"p0XB\"),a=n.n(r);var o=n(\"d04V\"),u=n.n(o),c=n(\"yLu3\"),i=n.n(c);function s(t){return function(t){if(a()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(i()(Object(t))||\"[object Arguments]\"===Object.prototype.toString.call(t))return u()(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}n.d(e,\"default\",function(){return s})},ldVq:function(t,e,n){var r=n(\"QMMT\"),a=n(\"UWiX\")(\"iterator\"),o=n(\"SBuE\");t.exports=n(\"WEpk\").isIterable=function(t){var e=Object(t);return void 0!==e[a]||\"@@iterator\"in e||o.hasOwnProperty(r(e))}},o6H3:function(t,e,n){\"use strict\";n.r(e);var r=n(\"ln6h\"),a=n.n(r),o=n(\"9Jkg\"),u=n.n(o),c=n(\"pLtp\"),i=n.n(c),s=n(\"zrwo\"),f=n(\"O40h\"),p=n(\"i9vu\"),l=n(\"wTOm\");e.default=function(){var t=Object(f.default)(a.a.mark(function t(e,n,r){var o,c,f,d,h,y,v,b,_;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=Object(s.a)({},{useSession:!0,debug:!1,where:{},args:\"limit:1\"},r),(c=i()(o.where).map(function(t){return\"\".concat(t,\": {_eq: \").concat(u()(o.where[t]),\"}\")})).length>0&&(c[0]=\",where:{\"+c[0],c[c.length-1]=c[c.length-1]+\"}\"),(f=\"\".concat(o.args||\"\",\" \").concat(c.join(\",\")).trim()).length>0&&(f=\"(\".concat(f,\")\")),d=\"\\n    {\\n        \".concat(e).concat(f,\" \\n        \").concat(\"string\"==typeof n?n:\"{\"+n.join(\"\\n\")+\"}\",\"\\n        \\n    }\"),o.debug&&console.log(d),h={\"Content-Type\":\"application/json\"},!o.useSession){t.next=18;break}return t.next=11,l.a.getItem(\"SESSION\");case 11:if(y=t.sent,v=JSON.parse(y||\"false\")){t.next=17;break}return t.abrupt(\"return\",!1);case 17:h[\"X-Hasura-Session-Id\"]=v.id;case 18:return t.next=20,fetch(p.default.url,{method:\"POST\",body:u()({query:d}),headers:h});case 20:return b=t.sent,t.next=23,b.json();case 23:if(_=t.sent,200===b.status){t.next=28;break}if(!(_&&_.errors&&_.errors[0]&&_.errors[0].message)){t.next=27;break}throw\"\\n  (Query Record Failed) \".concat(_.errors[0].message,\" \\n  \\n  GraphQL Query: \").concat(d,\"\\n  \\n  \");case 27:return t.abrupt(\"return\",null);case 28:if(\"string\"==typeof n){t.next=32;break}return t.abrupt(\"return\",_.data[e][0]);case 32:return t.abrupt(\"return\",_.data[e]);case 33:case\"end\":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},yDJ3:function(t,e,n){(function(e){var n=\"Expected a function\",r=\"__lodash_hash_undefined__\",a=1/0,o=\"[object Function]\",u=\"[object GeneratorFunction]\",c=\"[object Symbol]\",i=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,s=/^\\w*$/,f=/^\\./,p=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,l=/\\\\(\\\\)?/g,d=/^\\[object .+?Constructor\\]$/,h=\"object\"==typeof e&&e&&e.Object===Object&&e,y=\"object\"==typeof self&&self&&self.Object===Object&&self,v=h||y||Function(\"return this\")();var b,_=Array.prototype,g=Function.prototype,w=Object.prototype,m=v[\"__core-js_shared__\"],x=(b=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+b:\"\",j=g.toString,O=w.hasOwnProperty,k=w.toString,S=RegExp(\"^\"+j.call(O).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),P=v.Symbol,T=_.splice,E=K(v,\"Map\"),I=K(Object,\"create\"),J=P?P.prototype:void 0,q=J?J.toString:void 0;function A(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function F(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function N(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $(t,e){for(var n,r,a=t.length;a--;)if((n=t[a][0])===(r=e)||n!=n&&r!=r)return a;return-1}function V(t,e){for(var n,r=0,a=(e=function(t,e){if(G(t))return!1;var n=typeof t;if(\"number\"==n||\"symbol\"==n||\"boolean\"==n||null==t||R(t))return!0;return s.test(t)||!i.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:G(n=e)?n:X(n)).length;null!=t&&r<a;)t=t[L(e[r++])];return r&&r==a?t:void 0}function Q(t){return!(!H(t)||(e=t,x&&x in e))&&(function(t){var e=H(t)?k.call(t):\"\";return e==o||e==u}(t)||function(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(n){}return e}(t)?S:d).test(function(t){if(null!=t){try{return j.call(t)}catch(e){}try{return t+\"\"}catch(e){}}return\"\"}(t));var e}function C(t,e){var n,r,a=t.__data__;return(\"string\"==(r=typeof(n=e))||\"number\"==r||\"symbol\"==r||\"boolean\"==r?\"__proto__\"!==n:null===n)?a[\"string\"==typeof e?\"string\":\"hash\"]:a.map}function K(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Q(n)?n:void 0}A.prototype.clear=function(){this.__data__=I?I(null):{}},A.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},A.prototype.get=function(t){var e=this.__data__;if(I){var n=e[t];return n===r?void 0:n}return O.call(e,t)?e[t]:void 0},A.prototype.has=function(t){var e=this.__data__;return I?void 0!==e[t]:O.call(e,t)},A.prototype.set=function(t,e){return this.__data__[t]=I&&void 0===e?r:e,this},F.prototype.clear=function(){this.__data__=[]},F.prototype.delete=function(t){var e=this.__data__,n=$(e,t);return!(n<0||(n==e.length-1?e.pop():T.call(e,n,1),0))},F.prototype.get=function(t){var e=this.__data__,n=$(e,t);return n<0?void 0:e[n][1]},F.prototype.has=function(t){return $(this.__data__,t)>-1},F.prototype.set=function(t,e){var n=this.__data__,r=$(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},N.prototype.clear=function(){this.__data__={hash:new A,map:new(E||F),string:new A}},N.prototype.delete=function(t){return C(this,t).delete(t)},N.prototype.get=function(t){return C(this,t).get(t)},N.prototype.has=function(t){return C(this,t).has(t)},N.prototype.set=function(t,e){return C(this,t).set(t,e),this};var X=W(function(t){var e;t=null==(e=t)?\"\":function(t){if(\"string\"==typeof t)return t;if(R(t))return q?q.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-a?\"-0\":e}(e);var n=[];return f.test(t)&&n.push(\"\"),t.replace(p,function(t,e,r,a){n.push(r?a.replace(l,\"$1\"):e||t)}),n});function L(t){if(\"string\"==typeof t||R(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-a?\"-0\":e}function W(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var u=t.apply(this,n);return r.cache=o.set(a,u),u};return r.cache=new(W.Cache||N),r}W.Cache=N;var G=Array.isArray;function H(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function R(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&k.call(t)==c}t.exports=function(t,e,n){var r=null==t?void 0:V(t,e);return void 0===r?n:r}}).call(this,n(\"yLpj\"))},yLu3:function(t,e,n){t.exports=n(\"VKFn\")}},[[\"3PkP\",\"5d41\",\"9da1\"]]]);"}