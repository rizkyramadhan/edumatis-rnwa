{"version":3,"file":"static/webpack/static/development/pages/index.js.fd366fe065789d98e422.hot-update.js","sources":["webpack:///./pages/app/screens/admin/Kelas/MuridDetail.tsx"],"sourcesContent":["import StackNav from \"@app/libs/nav/StackNav\";\nimport UIBody from \"@app/libs/ui/UIBody\";\nimport UIButton from \"@app/libs/ui/UIButton\";\nimport UIContainer from \"@app/libs/ui/UIContainer\";\nimport UIFieldText from \"@app/libs/ui/UIFieldText\";\nimport UIHead from \"@app/libs/ui/UIHead\";\nimport { observer, useObservable } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { View, Text } from \"react-native\";\nimport MuridDetailProfil from \"./MuridDetailProfil\";\nimport MuridDetailSide from \"./MuridDetailSide\";\nimport updateRecord from \"@app/libs/queries/crud/updateRecord\";\nimport createRecord from \"@app/libs/queries/crud/createRecord\";\nimport UIRow from \"@app/libs/ui/UIRow\";\nimport UICol from \"@app/libs/ui/UICol\";\nimport UIFieldSelectNative from \"@app/libs/ui/UIFieldSelectNative\";\nimport { hashPassword } from \"@app/libs/queries/user/hashPassword\";\n\nexport async function saveUser(form: any, kelas_id: number) {\n  if (form.id) {\n    await updateRecord(\"murid\", form);\n  } else {\n    form.id = await createRecord(\"murid\", form);\n    if (form.id > 0 && kelas_id) {\n      await createRecord(\"kelas_murid\", {\n        kelas_id: kelas_id,\n        murid_id: form.id,\n        is_active: \"y\"\n      });\n    }\n  }\n\n  if (!!form.password) {\n    await hashPassword(form.id);\n  }\n}\n\nconst MuridSistem = observer(({ navigation, parentNavigation }: any) => {\n  const data = useObservable({\n    loading: true,\n    form: parentNavigation.getParam(\"item\"),\n    kelas: parentNavigation.getParam(\"kelas\")\n  });\n\n  return (\n    <UIContainer>\n      <UIHead\n        navigation={navigation}\n        title={\n          data.form.id ? `Detail Siswa #${data.form.id}` : `Buat Siswa Baru`\n        }\n        onBack={() => {\n          parentNavigation.goBack();\n        }}\n      >\n        <UIButton\n          onPress={async () => {\n            const form = { ...data.form };\n            await saveUser(form, data.kelas.id);\n            parentNavigation.goBack();\n          }}\n        >\n          Simpan\n        </UIButton>\n      </UIHead>\n      <View\n        style={{\n          flexDirection: \"row\",\n          flex: 1,\n          borderTopColor: \"#ccc\",\n          borderTopWidth: 1\n        }}\n      >\n        <MuridDetailSide navigation={navigation} form={data.form} />\n        <UIBody>\n          <UIRow>\n            <UICol size={6} sizexs={12} sizesm={12} sizemd={12}>\n              <UIFieldText\n                label=\"NSA (Username)\"\n                setValue={(value: any) => {\n                  data.form.nsa = value;\n                }}\n                value={data.form.nsa}\n              />\n            </UICol>\n            <UICol size={6} sizexs={12} sizesm={12} sizemd={12}>\n              <UIFieldText\n                label=\"NISN\"\n                setValue={(value: any) => {\n                  data.form.nisn = value;\n                }}\n                value={data.form.nisn}\n              />\n            </UICol>\n          </UIRow>\n          <UIFieldText\n            label=\"Nama Lengkap\"\n            setValue={(value: any) => {\n              data.form.nama_murid = value;\n            }}\n            value={data.form.nama_murid}\n          />\n          <UIRow>\n            <UICol size={4} sizexs={12} sizesm={12} sizemd={12}>\n              <UIFieldText\n                label=\"E-Mail\"\n                setValue={(value: any) => {\n                  data.form.email = value;\n                }}\n                value={data.form.email || \"\"}\n              />\n            </UICol>\n          </UIRow>\n\n          <UIRow>\n            <UICol size={4} sizexs={12} sizesm={12} sizemd={12}>\n              <UIFieldSelectNative\n                label=\"Status\"\n                items={[\n                  { value: \"y\", label: \"Aktif\" },\n                  { value: \"n\", label: \"Non-Aktif\" }\n                ]}\n                setValue={(value: any) => {\n                  data.form.is_active = value;\n                }}\n                value={data.form.is_active}\n              />\n            </UICol>\n          </UIRow>\n\n          <UIRow>\n            <UICol size={4} sizexs={12} sizesm={12} sizemd={12}>\n              <UIFieldText\n                label=\"Ubah Password\"\n                type=\"password\"\n                setValue={(value: any) => {\n                  data.form.password = value;\n                }}\n                value={data.form.password || \"\"}\n              />\n            </UICol>\n          </UIRow>\n        </UIBody>\n      </View>\n    </UIContainer>\n  );\n});\n\nexport default StackNav({\n  MuridSistem: { screen: MuridSistem },\n  MuridProfil: { screen: MuridDetailProfil }\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;;;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AALA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAOA;AACA;AACA;AAHA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAmBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAGA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AAJA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;;;;A","sourceRoot":""}